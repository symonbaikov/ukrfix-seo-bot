# Gemini API Integration

## Обзор

Бот теперь использует Google Gemini API вместо OpenAI для генерации SEO-статей.

## Настройка

### 1. Получение API ключа

1. Зайдите на [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Создайте новый API ключ для Gemini
3. Скопируйте ключ

### 2. Настройка .env файла

Добавьте в ваш `.env` файл:

```env
GEMINI_API_KEY=ваш_api_ключ_здесь
GEMINI_MODEL=gemini-1.5-flash
```

### 3. Доступные модели

- **gemini-1.5-flash** (рекомендуется) - стабильная модель, доступна в бесплатном тарифе
- **gemini-2.0-flash-exp** - экспериментальная модель, может требовать платный тариф
- **gemini-1.5-pro** - более мощная модель, подходит для сложных задач

### 4. Установка зависимостей

Библиотека уже добавлена в `requirements.txt`. Установите зависимости:

```bash
pip install -r requirements.txt
```

или

```bash
source venv/bin/activate
pip install google-generativeai
```

## Тестирование

### Тест подключения к API

```bash
python test_components.py
```

### Тест генерации статьи

```bash
python test_gemini_generation.py
```

## Обработка ошибок

### Ошибка квоты (429)

Если вы получаете ошибку квоты:
- Проверьте, что модель доступна в вашем тарифе
- Используйте `gemini-1.5-flash` для бесплатного тарифа
- Проверьте квоты на [Google AI Usage](https://ai.dev/usage?tab=rate-limit)
- При необходимости включите биллинг в Google Cloud Console

### Ошибка API ключа

Убедитесь, что:
- API ключ правильно установлен в `.env`
- Ключ активен и не истек
- У ключа есть доступ к Gemini API

## Миграция с OpenAI

Код автоматически использует Gemini вместо OpenAI. Никаких изменений в бизнес-логике не требуется - функция `generate_article()` имеет тот же интерфейс.

## Преимущества Gemini

- Бесплатный тариф с либеральными лимитами
- Быстрая генерация контента
- Хорошее качество на украинском языке
- Меньшая стоимость на больших объемах


